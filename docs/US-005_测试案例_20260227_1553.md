# US-005 测试案例

**用户故事**: 桌面应用基础功能  
**标题**: 作为用户，我希望应用具备桌面软件的基础体验  
**测试日期**: 2026-02-27  
**状态**: ✅ 已完成

---

## 测试环境

- 操作系统: Windows
- 应用版本: 0.1.0
- 测试工具: 手动测试

---

## 测试案例

### TC-001: 窗口控制功能

| 项目     | 内容                                                                                    |
| -------- | --------------------------------------------------------------------------------------- |
| 测试ID   | TC-001                                                                                  |
| 测试名称 | 窗口控制功能                                                                            |
| 优先级   | P0                                                                                      |
| 前置条件 | 应用已启动                                                                              |
| 测试步骤 | 1. 点击窗口右上角最小化按钮<br>2. 点击窗口右上角最大化按钮<br>3. 点击窗口右上角关闭按钮 |
| 预期结果 | 1. 窗口最小化到任务栏<br>2. 窗口最大化覆盖屏幕<br>3. 窗口隐藏到系统托盘（不退出应用）   |
| 测试结果 | ✅ 通过                                                                                 |

---

### TC-002: 系统托盘运行

| 项目     | 内容                                                                            |
| -------- | ------------------------------------------------------------------------------- |
| 测试ID   | TC-002                                                                          |
| 测试名称 | 系统托盘运行                                                                    |
| 优先级   | P0                                                                              |
| 前置条件 | 应用已启动                                                                      |
| 测试步骤 | 1. 点击窗口关闭按钮<br>2. 观察系统托盘区域<br>3. 左键单击托盘图标               |
| 预期结果 | 1. 窗口关闭但应用未退出<br>2. 托盘区域显示应用图标<br>3. 窗口重新显示并获得焦点 |
| 测试结果 | ✅ 通过                                                                         |

---

### TC-003: 托盘菜单功能

| 项目     | 内容                                                                                                                                             |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| 测试ID   | TC-003                                                                                                                                           |
| 测试名称 | 托盘菜单功能                                                                                                                                     |
| 优先级   | P0                                                                                                                                               |
| 前置条件 | 应用已启动，窗口已关闭                                                                                                                           |
| 测试步骤 | 1. 右键单击系统托盘图标<br>2. 点击菜单中的"显示窗口"<br>3. 再次右键点击托盘图标<br>4. 点击"最小化到托盘"<br>5. 右键点击托盘图标<br>6. 点击"退出" |
| 预期结果 | 1. 弹出托盘菜单<br>2. 窗口显示并获得焦点<br>3. 菜单正常弹出<br>4. 窗口最小化隐藏<br>5. 菜单正常弹出<br>6. 应用完全退出                           |
| 测试结果 | ✅ 通过                                                                                                                                          |

---

### TC-004: 全局快捷键

| 项目     | 内容                                                                                                  |
| -------- | ----------------------------------------------------------------------------------------------------- |
| 测试ID   | TC-004                                                                                                |
| 测试名称 | 全局快捷键切换窗口                                                                                    |
| 优先级   | P0                                                                                                    |
| 前置条件 | 应用已启动                                                                                            |
| 测试步骤 | 1. 确保窗口处于显示状态<br>2. 按下 Ctrl+Shift+P 组合键<br>3. 观察窗口状态<br>4. 再次按下 Ctrl+Shift+P |
| 预期结果 | 1. 窗口正常显示<br>2. 窗口隐藏<br>3. 窗口不可见<br>4. 窗口再次显示                                    |
| 测试结果 | ✅ 通过                                                                                               |

---

### TC-005: 图片保存功能 - 保存对话框

| 项目     | 内容                                                                                                                    |
| -------- | ----------------------------------------------------------------------------------------------------------------------- |
| 测试ID   | TC-005                                                                                                                  |
| 测试名称 | 图片保存到本地                                                                                                          |
| 优先级   | P0                                                                                                                      |
| 前置条件 | 已生成图片                                                                                                              |
| 测试步骤 | 1. 输入提示词并解析<br>2. 生成图片<br>3. 点击"保存到本地"按钮<br>4. 在弹出的对话框中选择保存路径<br>5. 确认保存         |
| 预期结果 | 1. 解析成功<br>2. 图片生成成功<br>3. 弹出系统保存对话框<br>4. 可以选择保存位置和文件名<br>5. 图片保存成功，显示保存路径 |
| 测试结果 | ✅ 通过                                                                                                                 |

---

### TC-006: 图片保存功能 - Base64格式

| 项目     | 内容                                                         |
| -------- | ------------------------------------------------------------ |
| 测试ID   | TC-006                                                       |
| 测试名称 | Base64格式图片保存                                           |
| 优先级   | P1                                                           |
| 前置条件 | API返回Base64格式图片                                        |
| 测试步骤 | 1. 配置API返回Base64格式<br>2. 生成图片<br>3. 保存图片到本地 |
| 预期结果 | 图片成功保存为PNG/JPG文件                                    |
| 测试结果 | ✅ 通过                                                      |

---

### TC-007: 图片保存功能 - URL格式

| 项目     | 内容                                                      |
| -------- | --------------------------------------------------------- |
| 测试ID   | TC-007                                                    |
| 测试名称 | URL格式图片保存                                           |
| 优先级   | P1                                                        |
| 前置条件 | API返回URL格式图片                                        |
| 测试步骤 | 1. 配置API返回URL格式<br>2. 生成图片<br>3. 保存图片到本地 |
| 预期结果 | 图片从URL下载并保存到本地                                 |
| 测试结果 | ✅ 通过                                                   |

---

### TC-008: 窗口关闭行为

| 项目     | 内容                                     |
| -------- | ---------------------------------------- |
| 测试ID   | TC-008                                   |
| 测试名称 | 关闭窗口不退出应用                       |
| 优先级   | P0                                       |
| 前置条件 | 应用已启动                               |
| 测试步骤 | 1. 点击窗口关闭按钮<br>2. 查看任务管理器 |
| 预期结果 | 1. 窗口隐藏到托盘<br>2. 进程仍在运行     |
| 测试结果 | ✅ 通过                                  |

---

## 测试总结

| 测试类型 | 通过 | 失败 | 总计 |
| -------- | ---- | ---- | ---- |
| 功能测试 | 8    | 0    | 8    |
| 总计     | 8    | 0    | 8    |

**测试结论**: ✅ 所有测试用例通过，US-005功能开发完成
